### ğŸ æ¸—é€æµ‹è¯•æŠ¥å‘Š: http://192.168.3.24:8081/vul/sqli/sqli_str.php

**æµ‹è¯•æ—¶é—´**: 2026-02-02  
**ç›®æ ‡ä¸»æœº**: 192.168.3.24  
**ç›®æ ‡URL**: http://192.168.3.24:8081/vul/sqli/sqli_str.php

---

#### 0. ğŸ” ç«¯å£ä¸æœåŠ¡å‘ç°ï¼ˆscan_tcp_port.yakï¼‰

- **å¼€æ”¾ç«¯å£**: 22(SSH), 8080, 8081
- **è¯†åˆ«æœåŠ¡**:
  - 22: SSH-2.0-OpenSSH_7.4
  - 8080: Apache 2.4.7 + PHP (DVWA)
  - 8081: Apache 2.4.29 + Bootstrap/Font Awesome (Pikachu)

#### 0bï½0d. ğŸ›¡ POC æ¼æ´æ£€æµ‹ï¼ˆquery_service_fingerprint â†’ query_plugin_by_fp â†’ call_yak_pluginï¼‰

- **Web æŒ‡çº¹**:
  - 8080: DVWA (ç™»å½•é¡µé¢)
  - 8081: Pikachu
- **POC æ£€æµ‹ç»“æœ**: æœªæ£€æµ‹åˆ°å·²çŸ¥ POC æ¼æ´
  - 8080ç«¯å£DVWAæ’ä»¶æœªæ‰¾åˆ°
  - 8081ç«¯å£Spring Actuatorç­‰æ’ä»¶æ‰§è¡Œå®Œæˆï¼Œæ— æ¼æ´

#### 1. ğŸ— æ¶æ„ç®€æŠ¥ï¼ˆweb_tech_analyzerï¼‰

- **8080ç«¯å£**: fetch
- **8081ç«¯å£**: jquery, fetch

#### 2. ğŸ•· çˆ¬è™«æ‘˜è¦

- **Total Requests**: 50ä¸ªé¡µé¢
- **Attack Surface**: å‘ç°äº†100ä¸ªæœ‰æ•ˆç›®æ ‡ï¼ŒåŒ…å«å¤šä¸ªSQLæ³¨å…¥ã€XSSã€CSRFæµ‹è¯•ç‚¹

#### 3. ğŸ›¡ Web æ¼æ´è„šæœ¬éªŒè¯ç»“æœï¼ˆxss/ssrf ç­‰ï¼‰

| æ¼æ´ç±»å‹   | ç›®æ ‡å‚æ•°/è·¯å¾„                  | çŠ¶æ€             | Flow ID |
| :--------- | :----------------------------- | :--------------- | :------ |
| XSS        | `message` (xss_01.php)         | ğŸ”´ **Confirmed** | 23      |
| XSS        | `message` (xss_02.php)         | ğŸ”´ **Confirmed** | 67      |
| å®‰å…¨å¤´ç¼ºå¤± | X-Frame-Options                | ğŸŸ¡ **ä¸­å±**      | 404     |
| å®‰å…¨å¤´ç¼ºå¤± | X-Content-Type-Options         | ğŸŸ¡ **ä¸­å±**      | 404     |
| å®‰å…¨å¤´ç¼ºå¤± | Content-Security-Policy        | ğŸŸ¡ **ä¸­å±**      | 404     |
| å®‰å…¨å¤´ç¼ºå¤± | Strict-Transport-Security      | ğŸŸ¡ **ä¸­å±**      | 404     |
| ä¿¡æ¯æ³„éœ²   | Server: Apache/2.4.29 (Ubuntu) | ğŸŸ¡ **ä½å±**      | 404     |

**ä¸¥é‡ç¨‹åº¦ç»Ÿè®¡**: ğŸ”´ é«˜å±: 2ä¸ª / ğŸŸ¡ ä¸­å±: 4ä¸ª / ğŸŸ¢ ä½å±: 1ä¸ª

**è¯¦ç»†æ¼æ´ä¿¡æ¯**:

1. **XSSæ¼æ´ (xss_01.php)** - ğŸ”´ é«˜å±
   - ç›®æ ‡: http://192.168.3.24:8081/vul/xss/xss_01.php?message=test&submit=submit
   - å‚æ•°: `message`
   - Payload: `</p><img src=x id='fzbGrwDA' onerror=alert(1)>`
   - ç±»å‹: å­˜å‚¨å‹XSS

2. **XSSæ¼æ´ (xss_02.php)** - ğŸ”´ é«˜å±
   - ç›®æ ‡: http://192.168.3.24:8081/vul/xss/xss_02.php?message=test&submit=submit
   - å‚æ•°: `message`
   - Payload: `'><img src=x id='RdqsPTnJ' onerror=alert(1)>`
   - ç±»å‹: åå°„å‹XSS

3. **HTTPå®‰å…¨å¤´ç¼ºå¤±** - ğŸŸ¡ ä¸­å±
   - ç¼ºå¤±å¤´:
     - X-Frame-Options (ç‚¹å‡»åŠ«æŒé˜²æŠ¤)
     - X-Content-Type-Options (MIMEå—…æ¢é˜²æŠ¤)
     - Content-Security-Policy (XSSé˜²æŠ¤)
     - Strict-Transport-Security (HTTPSå¼ºåˆ¶)
   - Serverä¿¡æ¯æ³„éœ²: Apache/2.4.29 (Ubuntu)

**æœªå‘ç°çš„æ¼æ´ç±»å‹**:

- SSRF: æœªæ£€æµ‹åˆ°æ­¤æ¼æ´
- å¼€æ”¾é‡å®šå‘: æœªæ£€æµ‹åˆ°æ­¤æ¼æ´
- CORSé…ç½®é”™è¯¯: æœªæ£€æµ‹åˆ°æ­¤æ¼æ´
- XPathæ³¨å…¥: æœªæ£€æµ‹åˆ°æ­¤æ¼æ´

#### 4. ğŸ”‘ å¼±å£ä»¤æ£€æµ‹ï¼ˆbrute.yakï¼‰

| æœåŠ¡     | è´¦å·            | ç»“æœ            |
| :------- | :-------------- | :-------------- |
| SSH (22) | root / abc\*123 | ğŸ”´ **çˆ†ç ´æˆåŠŸ** |

#### 5. ğŸ’¡ ä¿®å¤å»ºè®®

**é«˜å±æ¼æ´ä¿®å¤**:

1. **XSSæ¼æ´ä¿®å¤**:
   - å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒHTMLå®ä½“ç¼–ç ï¼ˆ`htmlspecialchars()`ï¼‰
   - å®æ–½å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰
   - ä½¿ç”¨ç°ä»£æ¡†æ¶çš„è‡ªåŠ¨è½¬ä¹‰åŠŸèƒ½

**ä¸­å±é—®é¢˜ä¿®å¤**: 2. **HTTPå®‰å…¨å¤´é…ç½®**:

```apache
Header always set X-Frame-Options "SAMEORIGIN"
Header always set X-Content-Type-Options "nosniff"
Header always set Content-Security-Policy "default-src 'self'"
Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
```

3. **Serverä¿¡æ¯éšè—**:
   ```apache
   ServerTokens Prod
   ServerSignature Off
   ```

**å¼±å£ä»¤ä¿®å¤**: 4. **SSHå®‰å…¨åŠ å›º**:

- ç«‹å³ä¿®æ”¹rootå¯†ç ä¸ºå¼ºå¯†ç ï¼ˆ16ä½ä»¥ä¸Šï¼ŒåŒ…å«å¤§å°å†™ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰
- ç¦ç”¨rootç›´æ¥ç™»å½•: `PermitRootLogin no`
- ä½¿ç”¨å¯†é’¥è®¤è¯æ›¿ä»£å¯†ç è®¤è¯
- å®æ–½fail2bané˜²æ­¢æš´åŠ›ç ´è§£

**é€šç”¨å®‰å…¨å»ºè®®**:

- å®šæœŸæ›´æ–°Apacheå’ŒOpenSSHåˆ°æœ€æ–°ç‰ˆæœ¬
- å®æ–½WAFï¼ˆWebåº”ç”¨é˜²ç«å¢™ï¼‰é˜²æŠ¤
- å®šæœŸè¿›è¡Œå®‰å…¨å®¡è®¡å’Œæ¸—é€æµ‹è¯•
- å¯¹æ•æ„Ÿè·¯å¾„å®æ–½è®¿é—®æ§åˆ¶

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-02-02 13:54:13  
**æµ‹è¯•å·¥å…·**: Yaklang Auto-Pentest Framework
