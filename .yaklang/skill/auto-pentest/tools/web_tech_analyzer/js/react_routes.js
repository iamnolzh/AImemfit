(() => {
  const out = new Set();
  const pushPath = p => { if (typeof p === 'string' && p.startsWith('/')) out.add(p); };
  try {
    const routes = window.__ROUTES__ || window.__reactRoutes || [];
    if (Array.isArray(routes)) routes.forEach(r => r && pushPath(r.path));
  } catch (e) {}
  Array.from(document.querySelectorAll('a[href]')).forEach(a => {
    const h = a.getAttribute('href');
    if (h && h.startsWith('/')) out.add(h.split('#')[0]);
  });
  return JSON.stringify({ routes: Array.from(out) });
})();
