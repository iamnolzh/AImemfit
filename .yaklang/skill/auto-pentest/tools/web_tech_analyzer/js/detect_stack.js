(() => {
  const stack = {
    vue: !!(window.Vue || window.__VUE_DEVTOOLS_GLOBAL_HOOK__ || document.querySelector('[data-v-]')),
    react: !!(window.__REACT_DEVTOOLS_GLOBAL_HOOK__ || document.querySelector('[data-reactroot], [data-reactid]')),
    angular: !!(window.ng || document.querySelector('[ng-version]')),
    jquery: !!(window.jQuery || window.$),
    layui: !!(window.layui),
    bootstrap: !!(window.bootstrap),
    echarts: !!(window.echarts),
    axios: !!(window.axios),
    fetch: typeof window.fetch === 'function',
    webpack: !!(window.__webpack_require__ || document.querySelector('script[src*="chunk"]')),
    vite: !!(window.__VITE__ || document.querySelector('script[src*="/assets/"]'))
  };
  return JSON.stringify({ stack });
})();
