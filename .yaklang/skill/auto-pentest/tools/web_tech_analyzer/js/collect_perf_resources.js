(() => {
  const entries = performance.getEntriesByType('resource')
    .filter(e => ['script','fetch','xmlhttprequest','other'].includes(e.initiatorType))
    .map(e => ({ name: e.name, initiatorType: e.initiatorType }));
  return JSON.stringify({ resources: entries });
})();
